# Prosperity Backtester

A simple backtesting framework for trading algorithms.

## Files & Directories

- **main.py**  
  Runs the trading algorithms and matches them against resting orders and past trades.
- **driller.py**  
  Defines a placeholder algorithm for drilling market data from the official sandbox.
- **extractor.py**  
  Parses data from the official logs generated by `driller.py`.
- **matcher.py**  
  Order matching engine that provides utilities to facilitate order matching.
- **data/**  
  Contains the drilled data for each round.
- **results/**  
  Stores backtesting results, including an orderbook CSV, a PnL vs time plot, and a trade history CSV.
- **algorithms/**  
  Directory for storing your algorithms to backtest.

## How to Use

Provide the following command-line arguments in order. If one or more arguments are missing, the flags are interpreted based on their positions and the remaining parameters are set to default values. If no arguments are provided, it defaults to testing `algorithms/algo.py` on round 0 data. For meaningful results, the first two arguments (round number and algorithm path) are usually needed.

1. **Round number**  
   - **Description:** The round of data to backtest.
   - **Constraints:** Integer between 0 and 5 (inclusive).
   - **Default:** `0`
2. **Algorithm path**  
   - **Description:** The file path to your algorithm.
   - **Constraints:** Must be a valid file path.
   - **Default:** `algorithms/algo.py` (an empty placeholder).
3. **Log length**  
   - **Description:** The length of the logs.
   - **Constraints:** Positive integer.
   - **Default:** `all` (logs everything).
4. **Verbose**  
   - **Description:** Determines whether to print detailed information to the command line.
   - **Constraints:** Accepts one of: `0`, `1`, `"true"`, `"false"`, `"yes"`, `"no"`, `"是"`, `"否"` (both `是` and `否` work!).
   - **Default:** `否`

## Example Commands

Execute these commands from the project root repository:

```bash
python main.py 1 algorithms/monkeys_eat_bananas.py

python main.py 3 algorithms/ 314 1

python main.py 5 algorithms/ 100 否
```